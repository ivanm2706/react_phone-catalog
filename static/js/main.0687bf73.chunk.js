(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],{29:function(e,t,c){},32:function(e,t,c){},33:function(e,t,c){},34:function(e,t,c){"use strict";c.r(t);var s=c(24),r=c.n(s),a=c(6),n=c(3),i=c(5),o=(c(29),c(0)),l=function(){return Object(o.jsx)(a.c,{className:"logo",to:"/",replace:!0,children:Object(o.jsx)("img",{src:"./img/logo/LOGO.svg",alt:"logo"})})},d=function(){return Object(o.jsx)("footer",{className:"footer",children:Object(o.jsx)("div",{className:"container",children:Object(o.jsxs)("footer",{className:"footer__content",children:[Object(o.jsx)(l,{}),Object(o.jsxs)("ul",{className:"footer__list",children:[Object(o.jsx)("li",{className:"footer__item",children:Object(o.jsx)("a",{href:"https://github.com/ivanm2706",className:"footer__link",target:"_blank",rel:"noreferrer",children:"github"})}),Object(o.jsx)("li",{className:"footer__item",children:Object(o.jsx)("a",{href:"tel:+000000000",className:"footer__link",children:"contacts"})}),Object(o.jsx)("li",{className:"footer__item",children:Object(o.jsx)("a",{href:"/",className:"footer__link",children:"rights"})})]}),Object(o.jsxs)("div",{className:"footer__toTop",children:[Object(o.jsx)("span",{className:"footer__toTopTitle",children:"Back to top"}),Object(o.jsx)("button",{type:"button",className:"icon icon--up footer__buttonToTop",onClick:function(){return window.scrollTo(0,0)}})]})]})})})},u=c(9),j=c.n(u),b=["","phones","tablets","accessories"],p=function(){return Object(o.jsx)("nav",{className:"nav",children:Object(o.jsx)("ul",{className:"nav__list",children:b.map((function(e){return Object(o.jsx)("li",{className:"nav__item",children:Object(o.jsx)(a.c,{to:"/".concat(e),replace:!0,className:function(e){var t=e.isActive;return j()("nav__link",{"nav__link--active":t})},children:e||"home"})},e)}))})})},h=function(e,t){return Object.entries(t).forEach((function(t){var c=Object(n.a)(t,2),s=c[0],r=c[1];""===r?e.delete(s):e.set(s,r)})),e.toString()},m=function(e,t){return e.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}))},O=function(){var e=Object(a.d)(),t=Object(n.a)(e,2),c=t[0],s=t[1],r=c.get("query")||"";return Object(o.jsxs)("div",{className:"search",children:[Object(o.jsx)("input",{className:"search__input",type:"text",placeholder:"Search in favourites...",value:r,onChange:function(e){s(h(c,{query:e.target.value}))}}),Object(o.jsx)(a.b,{className:j()("search__button search__button--search",{"search__button--cross":r}),to:{search:h(c,{query:""})},"data-cy":"searchDelete"})]})},_=function(e){var t=e.favoriteProductLength,c=e.storeCard;return Object(o.jsxs)("header",{className:"header",children:[Object(o.jsxs)("div",{className:"header__left",children:[Object(o.jsx)(l,{}),Object(o.jsx)(p,{})]}),Object(o.jsxs)("div",{className:"header__right",children:[Object(o.jsxs)(i.d,{children:[Object(o.jsx)(i.b,{path:"/favorite",element:Object(o.jsx)(O,{})}),Object(o.jsx)(i.b,{path:"/phones",element:Object(o.jsx)(O,{})}),Object(o.jsx)(i.b,{path:"/tablets",element:Object(o.jsx)(O,{})}),Object(o.jsx)(i.b,{path:"/accessories",element:Object(o.jsx)(O,{})})]}),Object(o.jsxs)("div",{className:"header__icons",children:[Object(o.jsxs)("div",{className:"header__icon",children:[Object(o.jsx)(a.c,{to:"/favorite",className:function(e){var t=e.isActive;return j()("header__link header__link--heart",{"header__link--active":t})},replace:!0}),!!t&&Object(o.jsx)("span",{className:"header__count",children:t})]}),Object(o.jsxs)("div",{className:"header__icon",children:[Object(o.jsx)(a.c,{to:"/store",className:function(e){var t=e.isActive;return j()("header__link header__link--catalog",{"header__link--active":t})}}),!!c&&Object(o.jsx)("span",{className:"header__count",children:c})]})]})]})]})},x=function(e){var t=e.children;return Object(o.jsx)("main",{className:"main",children:Object(o.jsx)("div",{className:"container",children:t})})},f=c(7),v=c(4),g=c.n(v),N=c(1),P=function(e){var t=e.message;return Object(o.jsx)("div",{className:"error",children:Object(o.jsx)("h1",{children:t})})},y=function(e){var t=e.pages;return Object(o.jsxs)("div",{className:"history history--current","data-cy":"breadCrumbs",children:[Object(o.jsx)(a.b,{className:"history__home",to:"/",replace:!0}),t.map((function(e,c){var s=t.length-1===c;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("span",{className:"history__arrow history__arrow--next"}),Object(o.jsx)("p",{className:j()("history__page",{"history__page--last":s}),children:e})]})}))]})},k=function(){return Object(o.jsx)("div",{className:"loader",children:Object(o.jsx)("div",{className:"loader__circle"})})},C=function(e){var t=e.message;return Object(o.jsx)("div",{className:"noResult",children:Object(o.jsx)("h1",{children:t})})};var S,w=function(e){var t=e.amount,c=function(e){for(var t=[],c=1;c<=e;c+=1)t.push(c);return t}(t),s=Object(a.d)(),r=Object(n.a)(s,2),i=r[0],l=r[1],d=i.get("page")||"1",u=function(e,t){i.set(e,t.toString()),l(i)};return Object(o.jsxs)("div",{className:"pagination","data-cy":"pagination",children:[Object(o.jsx)("button",{onClick:function(){return u("page",+d-1)},type:"button",className:"icon icon--left pagination__button","data-cy":"paginationLeft",disabled:1===+d}),Object(o.jsx)("div",{className:"pagination__pages",children:c.map((function(e){return Object(o.jsx)("button",{type:"button",onClick:function(){return u("page",e)},className:j()("pagination__page pagination__button",{"pagination__page--active":e===Number(d)}),children:e},e)}))}),Object(o.jsx)("button",{onClick:function(){return u("page",+d+1)},type:"button",className:"icon icon--right pagination__button","data-cy":"paginationRight",disabled:+d===t})]})},F=function(e){var t=e.product,c=e.favoriteProducts,s=e.setSelectedProducts,r=e.selectedProducts,a=e.setFavorite,n=r.find((function(e){return e.id===t.id})),i=Object(N.useMemo)((function(){return t.price-t.price*t.discount/100}),[]);return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("img",{className:"productCard__image",src:"./".concat(t.imageUrl),alt:t.name}),Object(o.jsx)("p",{className:"productCard__title",children:t.name}),Object(o.jsx)("div",{className:"productCard__price",children:t.discount?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("p",{className:"productCard__newPrice",children:"$".concat(i)}),Object(o.jsx)("p",{className:"productCard__oldPrice",children:"$".concat(t.price)})]}):Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("p",{className:"productCard__newPrice",children:"$".concat(t.price)})})}),Object(o.jsxs)("div",{className:"productCard__description",children:[Object(o.jsx)("p",{className:"productCard__descriptionTitle",children:"Screen"}),Object(o.jsxs)("p",{className:"productCard__descriptionCard",children:["".concat(Number.parseFloat(t.screen)),"\u201d","  OLED"]})]}),Object(o.jsxs)("div",{className:"productCard__description",children:[Object(o.jsx)("p",{className:"productCard__descriptionTitle",children:"Capacity"}),Object(o.jsx)("p",{className:"productCard__descriptionCard",children:t.capacity&&"".concat(Number.parseFloat(t.capacity)/1e3," GB")})]}),Object(o.jsxs)("div",{className:"productCard__description",children:[Object(o.jsx)("p",{className:"productCard__descriptionTitle",children:"RAM"}),Object(o.jsx)("p",{className:"productCard__descriptionCard",children:t.ram&&"".concat(Number.parseFloat(t.ram)/1e3," GB")})]}),Object(o.jsxs)("div",{className:"productCard__buttons",children:[Object(o.jsx)("button",{type:"button",onClick:function(e){e.preventDefault(),e.stopPropagation(),s(t)},className:j()("buttonAdd productCard__button",{"buttonAdd--active":n}),children:n?"Added to cart":"Add to cart"}),Object(o.jsx)("button",{type:"button",onClick:function(e){e.preventDefault(),e.stopPropagation(),a(t)},"data-cy":"addToFavorite",className:j()("icon icon--heart productCard__like",{"icon--redHeart":c.find((function(e){var c=e.id;return t.id===c}))})})]})]})};!function(e){e.Phone="phone",e.Tablet="tablet",e.Accessory="accessory"}(S||(S={}));var A=function(e){switch(e){case S.Phone:return"phones";case S.Tablet:return"tablets";case S.Accessory:return"accessories";default:throw new Error("no case")}},T=function(e){var t=e.products,c=e.favoriteProducts,s=e.setFavorite,r=e.selectedProducts,n=e.setSelectedProducts;return Object(o.jsxs)("div",{className:"searchProducts",children:[Object(o.jsx)("p",{className:"searchProducts__subTitle",children:"".concat(t.length," results")}),Object(o.jsx)("div",{className:"searchProducts__productList",children:t.map((function(e){return Object(o.jsx)(a.b,{to:"/".concat(A(e.type),"/").concat(e.id),className:"productCard",children:Object(o.jsx)(F,{setSelectedProducts:n,selectedProducts:r,favoriteProducts:c,product:e,setFavorite:s})},e.id)}))})]})},B=function(){var e=Object(a.d)(),t=Object(n.a)(e,2),c=t[0],s=t[1],r=c.get("sortBy")||"age",i=c.get("perPage")||"All";return Object(o.jsxs)("form",{className:"form productPage__sortForm",children:[Object(o.jsxs)("div",{children:[Object(o.jsx)("p",{className:"form__label",children:"Sort by"}),Object(o.jsxs)("select",{onChange:function(e){c.set("sortBy",e.target.value),s(c)},className:"form__select form__select--sort",value:r,children:[Object(o.jsx)("option",{value:"age",children:"Newest"}),Object(o.jsx)("option",{value:"name",children:"Alphabetically"}),Object(o.jsx)("option",{value:"price",children:"Cheapest"})]})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("p",{className:"form__label",children:"Items on page"}),Object(o.jsxs)("select",{onChange:function(e){c.set("perPage",e.target.value),c.set("page","1"),s(c)},className:"form__select form__select--itemPerPage",value:i,children:[Object(o.jsx)("option",{value:"All",children:"All"}),Object(o.jsx)("option",{value:"4",children:"4"}),Object(o.jsx)("option",{value:"8",children:"8"}),Object(o.jsx)("option",{value:"16",children:"16"})]})]})]})},E=function(){var e=Object(f.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://mate-academy.github.io/react_phone-catalog/api/products.json");case 3:if(!(t=e.sent).ok){e.next=8;break}return e.next=7,t.json();case 7:return e.abrupt("return",e.sent);case 8:throw new Error("error");case 11:throw e.prev=11,e.t0=e.catch(0),new Error("error");case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(f.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E();case 3:return t=e.sent,e.abrupt("return",t.filter((function(e){return e.type===S.Phone})));case 7:throw e.prev=7,e.t0=e.catch(0),new Error("error");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(f.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E();case 3:return t=e.sent,e.abrupt("return",t.filter((function(e){return e.type===S.Tablet})));case 7:throw e.prev=7,e.t0=e.catch(0),new Error("error");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(f.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E();case 3:return t=e.sent,e.abrupt("return",t.filter((function(e){return e.type===S.Accessory})));case 7:throw e.prev=7,e.t0=e.catch(0),new Error("error");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(f.a)(g.a.mark((function e(t){var c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://mate-academy.github.io/react_phone-catalog/api/products/".concat(t,".json"));case 3:if(!(c=e.sent).ok){e.next=8;break}return e.next=7,c.json();case 7:return e.abrupt("return",e.sent);case 8:throw new Error("error");case 11:throw e.prev=11,e.t0=e.catch(0),new Error("error");case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(f.a)(g.a.mark((function e(t){var c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E();case 3:return c=e.sent,e.abrupt("return",c.find((function(e){return e.id===t}))||null);case 7:throw e.prev=7,e.t0=e.catch(0),new Error("error");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(f.a)(g.a.mark((function e(){var t,c,s,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E();case 3:t=e.sent,c=[],s=function(){return Math.floor(Math.random()*t.length)},r=function(){c.length||c.push(t[s()]);var e=t[s()];c.some((function(t){return t.id===e.id}))||c.push(e)};do{r()}while(c.length<t.length/2);return e.abrupt("return",c);case 11:throw e.prev=11,e.t0=e.catch(0),new Error("error");case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),q=c(8),J=function(e,t,c,s){var r=c*(s-1),a=c*s;return Object(q.a)(e).sort((function(e,c){switch(t){case"age":case"price":return e[t]-c[t];case"name":return e[t].localeCompare(c[t]);default:return 0}})).slice(r,a)},G=function(e){var t=e.favoriteProducts,c=e.setFavorite,s=e.selectedProducts,r=e.setSelectedProducts,i=Object(N.useState)([]),l=Object(n.a)(i,2),d=l[0],u=l[1],j=Object(a.d)(),b=Object(n.a)(j,1)[0],p=Object(N.useState)(!1),h=Object(n.a)(p,2),O=h[0],_=h[1],x=Object(N.useState)(!1),v=Object(n.a)(x,2),S=v[0],E=v[1],M=b.get("sortBy")||"age",L=b.get("perPage")||"All",I=b.get("page")||"1",R=b.get("query")||"",$="All"===L?1:Math.ceil(d.length/+L),q=Object(N.useMemo)((function(){return J(d,M,+L||d.length,+I)}),[M,d,L,I]),G=function(){var e=Object(f.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,E(!1),_(!0),e.next=5,D();case 5:t=e.sent,u(t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),E(!0);case 12:return e.prev=12,_(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})));return function(){return e.apply(this,arguments)}}();return Object(N.useEffect)((function(){G()}),[]),O?Object(o.jsx)(k,{}):S?Object(o.jsx)(P,{message:"Something went wrong"}):d.length?R?Object(o.jsx)(T,{products:m(d,R),setSelectedProducts:r,selectedProducts:s,favoriteProducts:t,setFavorite:c}):Object(o.jsxs)("div",{className:"productPage",children:[Object(o.jsx)(y,{pages:["Accessories"]}),Object(o.jsx)("h1",{className:"productPage__title",children:"Tablets"}),Object(o.jsx)("p",{className:"productPage__subTitle",children:"".concat(d.length," models")}),Object(o.jsx)(B,{}),Object(o.jsx)("div",{className:"productPage__productList","data-cy":"productList",children:q.map((function(e){return Object(o.jsx)(a.b,{to:"/".concat(A(e.type),"/").concat(e.id),className:"productCard","data-cy":"cardsContainer",children:Object(o.jsx)(F,{favoriteProducts:t,product:e,setFavorite:c,selectedProducts:s,setSelectedProducts:r})},e.id)}))}),Object(o.jsx)(w,{amount:$})]}):Object(o.jsx)(C,{message:"Accessories not found"})},U=function(){var e=Object(i.n)();return Object(o.jsxs)("button",{type:"button",className:"history history--back",onClick:function(){e(-1)},"data-cy":"backButton",children:[Object(o.jsx)("span",{className:"history__arrow history__arrow--back"}),Object(o.jsx)("p",{className:"history__page history__page--last",children:"Back"})]})},W=(c(32),function(e){var t,c=e.title,s=e.children,r=Object(N.useRef)(null),a=Object(N.useState)(0),i=Object(n.a)(a,2),l=i[0],d=i[1],u=window.innerWidth,j=272,b=Math.floor(u/j)>4?4:Math.floor(u/j),p=u>=1136?15:(u-b*j)/(b-1),h=u>=1136?1136+p:u+p,m=(null===(t=r.current)||void 0===t?void 0:t.childNodes.length)||0,O=m*j+p*m-1,_={transform:"translate(-".concat(l,"px, 0)"),gap:"".concat(p,"px")};return Object(o.jsxs)("div",{className:"sliderProduct",children:[Object(o.jsxs)("div",{className:"sliderProduct__header",children:[Object(o.jsx)("h1",{children:c}),Object(o.jsxs)("div",{className:"sliderProduct__buttons",children:[Object(o.jsx)("button",{type:"button",onClick:function(){d((function(e){return e-h<=0?0:e-h}))},className:"icon icon--left sliderProduct__button"}),Object(o.jsx)("button",{type:"button",onClick:function(){var e=m*j+p*m-1-h+1;d((function(t){return t+2*h>=O?e:t+h}))},className:"icon icon--right sliderProduct__button"})]})]}),Object(o.jsx)("div",{className:"sliderProduct__container",children:Object(o.jsx)("div",{style:_,className:"sliderProduct__imageBlock",ref:r,children:s})})]})}),H=function(e){var t=e.type,c=e.setSelectedProducts,s=e.selectedProducts,r=e.favoriteProducts,l=e.setFavorite,d=Object(i.p)().idProduct,u=Object(N.useState)(null),b=Object(n.a)(u,2),p=b[0],h=b[1],m=Object(N.useState)(null),O=Object(n.a)(m,2),_=O[0],x=O[1],v=Object(N.useState)(!1),S=Object(n.a)(v,2),w=S[0],T=S[1],B=Object(N.useState)(!1),E=Object(n.a)(B,2),M=E[0],L=E[1],D=Object(N.useState)(""),q=Object(n.a)(D,2),J=q[0],G=q[1],H=Object(N.useState)("blond"),Q=Object(n.a)(H,2),Y=Q[0],z=Q[1],K=Object(N.useState)(64),V=Object(n.a)(K,2),X=V[0],Z=V[1],ee=Object(N.useState)([]),te=Object(n.a)(ee,2),ce=te[0],se=te[1],re=Object(N.useMemo)((function(){return _?_.price-_.price*_.discount/100:0}),[_]),ae=function(){var e=Object(f.a)(g.a.mark((function e(){var t,c,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,T(!0),L(!1),e.next=5,I(d);case 5:return t=e.sent,e.next=8,R(d);case 8:return c=e.sent,e.next=11,$();case 11:s=e.sent,h(t),x(c),G(t.images[0]),se(s),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),L(!0);case 21:return e.prev=21,T(!1),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[0,18,21,24]])})));return function(){return e.apply(this,arguments)}}();return Object(N.useEffect)((function(){ae()}),[]),w?Object(o.jsx)(k,{}):M?Object(o.jsx)(P,{message:"Can not load details"}):p?Object(o.jsxs)("div",{className:"details",children:[Object(o.jsx)(y,{pages:[t,p.id]}),Object(o.jsx)(U,{}),Object(o.jsx)("h1",{className:"details__title",children:p.name}),Object(o.jsxs)("div",{className:"details__content",children:[Object(o.jsxs)("div",{className:"images details__images",children:[Object(o.jsx)("div",{className:"images__blockButtons",children:p.images.map((function(e){return Object(o.jsx)("button",{type:"button",className:j()("images__button",{"images__button--active":e===J}),onClick:function(){return G(e)},children:Object(o.jsx)("img",{className:"images__imgSmall",src:"/".concat(e),alt:"product"})},e)}))}),Object(o.jsx)("div",{className:"images__blockImg",children:Object(o.jsx)("img",{src:"/".concat(J),className:"details__imgBig",alt:"product"})})]}),Object(o.jsxs)("div",{className:"details__actions",children:[Object(o.jsxs)("div",{children:[Object(o.jsxs)("div",{className:"colors",children:[Object(o.jsx)("p",{className:"colors__title",children:"Available colors"}),Object(o.jsx)("div",{className:"colors__buttons",children:["blond","camel","grey","light"].map((function(e){return Object(o.jsx)("button",{type:"button",className:j()("colors__button",{"colors__button--active":Y===e}),onClick:function(){return z(e)},children:Object(o.jsx)("div",{className:"colors__background colors__background--".concat(e)})},e)}))})]}),Object(o.jsxs)("div",{className:"capacity",children:[Object(o.jsx)("p",{className:"capacity__title",children:"Select capacity"}),Object(o.jsx)("div",{className:"capacity__buttons",children:[64,256,512].map((function(e){return Object(o.jsx)("button",{type:"button",className:j()("capacity__button",{"capacity__button--active":X===e}),onClick:function(){return Z(e)},children:"".concat(e," GB")},e)}))})]}),Object(o.jsx)("div",{className:"prise",children:null!==_&&void 0!==_&&_.discount?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("p",{className:"prise__new",children:"$".concat(re)}),Object(o.jsx)("p",{className:"prise__old",children:"$".concat(null===_||void 0===_?void 0:_.price)})]}):Object(o.jsx)("p",{className:"prise__new",children:"$".concat(null===_||void 0===_?void 0:_.price)})}),Object(o.jsxs)("div",{className:"buttons",children:[Object(o.jsx)("button",{type:"button",className:j()("buttonAdd buttons__addCart",{"buttonAdd--active":s.some((function(e){return e.id===p.id}))}),onClick:function(){return c(_||null)},children:"Add to cart"}),Object(o.jsx)("button",{type:"button",className:j()("icon icon--heart buttons__like",{"icon--redHeart":r.some((function(e){return e.id===p.id}))}),onClick:function(){return l(_||null)}})]}),Object(o.jsxs)("div",{className:"info",children:[Object(o.jsxs)("div",{className:"info__block info__block--small",children:[Object(o.jsx)("p",{className:"info__title",children:"ram"}),Object(o.jsx)("p",{className:"info__description",children:p.storage.ram})]}),Object(o.jsxs)("div",{className:"info__block",children:[Object(o.jsx)("p",{className:"info__title",children:"Display"}),Object(o.jsx)("p",{className:"info__description",children:p.display.screenResolution})]}),Object(o.jsxs)("div",{className:"info__block",children:[Object(o.jsx)("p",{className:"info__title",children:"USB"}),Object(o.jsx)("p",{className:"info__description",children:p.hardware.usb})]})]})]}),Object(o.jsx)("p",{className:"details__idText",children:"ID ".concat(p.id)})]}),Object(o.jsxs)("div",{className:"details__description","data-cy":"productDescription",children:[Object(o.jsx)("h2",{className:"details__descriptionTitle",children:"About"}),Object(o.jsx)("hr",{className:"details__line"}),Object(o.jsx)("p",{className:"details__info",children:p.description})]}),Object(o.jsxs)("div",{className:"details__descriptionInfo",children:[Object(o.jsx)("h2",{className:"details__descriptionTitle",children:"Tech specs"}),Object(o.jsx)("hr",{className:"details__line"}),Object(o.jsxs)("div",{className:"info",children:[Object(o.jsxs)("div",{className:"info__block",children:[Object(o.jsx)("p",{className:"info__title",children:"RAM"}),Object(o.jsx)("p",{className:"info__description",children:p.storage.ram})]}),Object(o.jsxs)("div",{className:"info__block",children:[Object(o.jsx)("p",{className:"info__title",children:"Display"}),Object(o.jsx)("p",{className:"info__description",children:p.display.screenResolution})]}),Object(o.jsxs)("div",{className:"info__block",children:[Object(o.jsx)("p",{className:"info__title",children:"USB"}),Object(o.jsx)("p",{className:"info__description",children:p.hardware.usb})]}),Object(o.jsxs)("div",{className:"info__block",children:[Object(o.jsx)("p",{className:"info__title",children:"Battery"}),Object(o.jsx)("p",{className:"info__description",children:p.battery.type})]})]})]})]}),Object(o.jsx)(W,{title:"You may also like",children:ce.map((function(e){return Object(o.jsx)(a.b,{to:"/".concat(A(e.type),"/").concat(e.id),className:"productCard",children:Object(o.jsx)(F,{setSelectedProducts:c,selectedProducts:s,favoriteProducts:r,product:e,setFavorite:l})},e.id)}))})]}):Object(o.jsx)(C,{message:"Details"})},Q=function(e){var t=e.favoriteProducts,c=e.setFavorite,s=e.selectedProducts,r=e.setSelectedProducts,i=Object(a.d)(),l=Object(n.a)(i,1)[0].get("query");return t.length?l?Object(o.jsx)(T,{products:m(t,l),setSelectedProducts:r,selectedProducts:s,favoriteProducts:t,setFavorite:c}):Object(o.jsxs)("div",{className:"productPage",children:[Object(o.jsx)(y,{pages:["Favourites"]}),Object(o.jsx)("h1",{className:"productPage__title",children:"Favourites"}),Object(o.jsx)("p",{className:"productPage__subTitle",children:"".concat(t.length," models")}),Object(o.jsx)("div",{className:"productPage__productList",children:t.map((function(e){return Object(o.jsx)(a.b,{to:"/".concat(A(e.type),"/").concat(e.id),className:"productCard","data-cy":"cardsContainer",children:Object(o.jsx)(F,{favoriteProducts:t,product:e,setFavorite:c,selectedProducts:s,setSelectedProducts:r})},e.id)}))})]}):Object(o.jsx)(C,{message:"Favourites product not selected"})},Y=function(){return Object(o.jsxs)("div",{className:"category",children:[Object(o.jsx)("h1",{className:"category__title",children:"Shop by category"}),Object(o.jsxs)("div",{className:"category__links","data-cy":"categoryLinksContainer",children:[Object(o.jsxs)(a.b,{className:"category__link",to:"/phones",replace:!0,children:[Object(o.jsx)("img",{className:"category__image",src:".\\img\\bunners\\phones.png",alt:"category phones"}),Object(o.jsx)("p",{className:"category__subTitle",children:"Mobile phones"}),Object(o.jsx)("p",{className:"category__amountDevices",children:"".concat(6," models")})]}),Object(o.jsxs)(a.b,{className:"category__link",to:"/tablets",replace:!0,children:[Object(o.jsx)("img",{className:"category__image",src:".\\img\\bunners\\tablets.png",alt:"category tablets"}),Object(o.jsx)("p",{className:"category__subTitle",children:"Tablets"}),Object(o.jsx)("p",{className:"category__amountDevices",children:"".concat(6," models")})]}),Object(o.jsxs)(a.b,{className:"category__link",to:"/accessories",replace:!0,children:[Object(o.jsx)("img",{className:"category__image",src:".\\img\\bunners\\accessories.png",alt:"category accessories"}),Object(o.jsx)("p",{className:"category__subTitle",children:"Accessories"}),Object(o.jsx)("p",{className:"category__amountDevices",children:"".concat(6," models")})]})]})]})},z=function(e){var t,c,s=e.children,r=Object(N.useRef)(null),a=Object(N.useState)(0),i=Object(n.a)(a,2),l=i[0],d=i[1],u=(null===(t=r.current)||void 0===t?void 0:t.childElementCount)||0,j=(null===(c=r.current)||void 0===c?void 0:c.clientWidth)||0;Object(N.useEffect)((function(){var e,t,c=(null===(e=r.current)||void 0===e?void 0:e.childElementCount)||0,s=(null===(t=r.current)||void 0===t?void 0:t.clientWidth)||0,a=c*s,n=setTimeout((function(){(c||s)&&d((function(e){return e+s>=a?0:e+s}))}),5e3);return function(){clearTimeout(n)}}),[l]);var b=Object(N.useMemo)((function(){return{transform:"translate(-".concat(l,"px, 0)")}}),[l]);return Object(o.jsx)("div",{className:"slider",children:Object(o.jsxs)("div",{className:"slider__content",children:[Object(o.jsx)("button",{type:"button",onClick:function(){(u||j)&&d((function(e){return e-j<0?u*j-j:e-j}))},className:"icon icon--left slider__button"}),Object(o.jsx)("div",{className:"slider__container",children:Object(o.jsx)("div",{ref:r,style:b,className:"slider__imageBlock",children:s})}),Object(o.jsx)("button",{type:"button",onClick:function(){(u||j)&&d((function(e){return e+j>=u*j?0:e+j}))},className:"icon icon--right slider__button"})]})})},K=function(e){var t=e.selectedProducts,c=e.setSelectedProducts,s=e.favoriteProducts,r=e.setFavorite,i=Object(N.useState)([]),l=Object(n.a)(i,2),d=l[0],u=l[1],j=Object(N.useState)(!1),b=Object(n.a)(j,2),p=b[0],h=b[1],m=Object(N.useState)(!1),O=Object(n.a)(m,2),_=O[0],x=O[1],v=Object(N.useMemo)((function(){return d.filter((function(e){return!!e.discount})).sort((function(e,t){return t.discount-e.discount}))}),[d]),y=Object(N.useMemo)((function(){return d.filter((function(e){return!e.discount})).sort((function(e,t){return t.price-e.price}))}),[d]),C=function(){var e=Object(f.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),x(!1),e.next=5,E();case 5:t=e.sent,u(t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),x(!0);case 12:return e.prev=12,h(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})));return function(){return e.apply(this,arguments)}}();return Object(N.useEffect)((function(){C()}),[]),_?Object(o.jsx)(P,{message:"Can`t load products"}):p?Object(o.jsx)(k,{}):Object(o.jsxs)("div",{className:"homePage",children:[Object(o.jsx)("section",{className:"homePage__section",children:Object(o.jsxs)(z,{children:[Object(o.jsx)("span",{id:"1",className:"slider__image slider__image--1"}),Object(o.jsx)("span",{id:"2",className:"slider__image slider__image--2"}),Object(o.jsx)("span",{id:"3",className:"slider__image slider__image--3"}),Object(o.jsx)("span",{id:"4",className:"slider__image slider__image--4"})]})}),Object(o.jsx)("section",{className:"homePage__section",children:Object(o.jsx)(W,{title:"Hot prices",children:v.map((function(e){return Object(o.jsx)(a.b,{to:"/".concat(A(e.type),"/").concat(e.id),className:"productCard","data-cy":"cardsContainer",children:Object(o.jsx)(F,{setSelectedProducts:c,selectedProducts:t,favoriteProducts:s,setFavorite:r,product:e})},e.id)}))})}),Object(o.jsx)("section",{className:"homePage__section",children:Object(o.jsx)(Y,{})}),Object(o.jsx)("section",{className:"homePage__section",children:Object(o.jsx)(W,{title:"Brand new models",children:y.map((function(e){return Object(o.jsx)(a.b,{to:"/".concat(A(e.type),"/").concat(e.id),className:"productCard","data-cy":"cardsContainer",children:Object(o.jsx)(F,{selectedProducts:t,setSelectedProducts:c,favoriteProducts:s,setFavorite:r,product:e})},e.id)}))})})]})},V=function(e){var t=e.setSelectedProducts,c=e.selectedProducts,s=e.favoriteProducts,r=e.setFavorite,i=Object(N.useState)([]),l=Object(n.a)(i,2),d=l[0],u=l[1],j=Object(a.d)(),b=Object(n.a)(j,1)[0],p=Object(N.useState)(!1),h=Object(n.a)(p,2),O=h[0],_=h[1],x=Object(N.useState)(!1),v=Object(n.a)(x,2),S=v[0],E=v[1],L=b.get("sortBy")||"age",D=b.get("perPage")||"All",I=b.get("page")||"1",R=b.get("query")||"",$=Object(N.useMemo)((function(){return J(d,L,+D||d.length,+I)}),[L,d,D,I]),q="All"===D?1:Math.ceil(d.length/+D),G=function(){var e=Object(f.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,_(!0),E(!1),e.next=5,M();case 5:t=e.sent,u(t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),E(!0);case 12:return e.prev=12,_(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})));return function(){return e.apply(this,arguments)}}();return Object(N.useEffect)((function(){G()}),[]),O?Object(o.jsx)(k,{}):S?Object(o.jsx)(P,{message:"Something went wrong"}):d.length?R?Object(o.jsx)(T,{products:m(d,R),setSelectedProducts:t,selectedProducts:c,favoriteProducts:s,setFavorite:r}):Object(o.jsxs)("div",{className:"productPage",children:[Object(o.jsx)(y,{pages:["Phone"]}),Object(o.jsx)("h1",{className:"productPage__title",children:"Mobile phones"}),Object(o.jsx)("p",{className:"productPage__subTitle",children:"".concat(d.length," models")}),Object(o.jsx)(B,{}),Object(o.jsx)("div",{className:"productPage__productList","data-cy":"productList",children:$.map((function(e){return Object(o.jsx)(a.b,{to:"/".concat(A(e.type),"/").concat(e.id),className:"productCard","data-cy":"cardsContainer",children:Object(o.jsx)(F,{setSelectedProducts:t,selectedProducts:c,favoriteProducts:s,product:e,setFavorite:r})},e.id)}))}),Object(o.jsx)(w,{amount:q})]}):Object(o.jsx)(C,{message:"Phones not found"})},X=function(e){var t=e.product,c=e.onRemove,s=e.onChangeAmount;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("button",{onClick:function(){return c(t.item)},type:"button",className:"cart__buttonCross","data-cy":"cartDeleteButton"}),Object(o.jsx)("img",{src:t.item.imageUrl,alt:t.item.id,className:"cart__image"}),Object(o.jsx)("p",{className:"cart__title",children:t.item.name}),Object(o.jsxs)("div",{className:"cart__changeAmount",children:[Object(o.jsx)("button",{type:"button",className:"icon icon--minus cart__button",onClick:function(){return s(t.item.id,"incr")},disabled:0===t.amount}),Object(o.jsx)("p",{className:"cart__amount","data-cy":"productQauntity",children:t.amount}),Object(o.jsx)("button",{type:"button",className:"icon icon--plus cart__button",onClick:function(){return s(t.item.id,"decr")}})]}),Object(o.jsx)("p",{className:"cart__price",children:"$".concat(t.item.price)})]})},Z=function(e){var t=e.totalPrice,c=e.totalProducts,s=Object(N.useState)(!1),r=Object(n.a)(s,2),a=r[0],i=r[1];return Object(o.jsxs)("div",{className:"totalPrice",children:[Object(o.jsxs)("div",{className:"totalPrice__priceBlock",children:[Object(o.jsx)("p",{className:"totalPrice__price",children:"$".concat(t)}),Object(o.jsx)("p",{className:"totalPrice__priceForItems",children:"Total for ".concat(c," items")})]}),Object(o.jsx)("button",{type:"button",className:"buttonAdd totalPrice__button",onClick:function(){i(!0)},children:"Checkout"}),a&&Object(o.jsx)("p",{className:"totalPrice__message",children:"We are sorry, but this feature is not implemented yet"})]})},ee=function(e){var t=e.selectedProducts,c=e.setSelectedProducts,s=Object(N.useState)((function(){return Object(q.a)(t).map((function(e){return{amount:1,item:e}}))})),r=Object(n.a)(s,2),a=r[0],i=r[1],l=Object(N.useMemo)((function(){return a.reduce((function(e,t){return e+t.item.price*t.amount}),0)}),[a]),d=Object(N.useMemo)((function(){return a.reduce((function(e,t){return e+t.amount}),0)}),[a]),u=function(e,t){i((function(c){return Object(q.a)(c).map((function(c){return e===c.item.id?{amount:"decr"===t?c.amount+1:c.amount-1,item:c.item}:c}))}))},j=function(e){c(e),i((function(t){return Object(q.a)(t).filter((function(t){return t.item.id!==e.id}))}))};return t.length?Object(o.jsxs)("div",{className:"productPage productPage--cart",children:[Object(o.jsx)(U,{}),Object(o.jsx)("h1",{className:"productPage__title",children:"Cart"}),Object(o.jsxs)("div",{className:"productPage__contentCart",children:[Object(o.jsx)("div",{className:"productPage__cartsList",children:a.map((function(e){return Object(o.jsx)("div",{className:"cart",children:Object(o.jsx)(X,{product:e,onChangeAmount:u,onRemove:j})},e.item.id)}))}),Object(o.jsx)(Z,{totalPrice:l,totalProducts:d})]})]}):Object(o.jsx)(C,{message:"Cart is empty"})},te=function(e){var t=e.favoriteProducts,c=e.setSelectedProducts,s=e.selectedProducts,r=e.setFavorite,i=Object(N.useState)([]),l=Object(n.a)(i,2),d=l[0],u=l[1],j=Object(a.d)(),b=Object(n.a)(j,1)[0],p=Object(N.useState)(!1),h=Object(n.a)(p,2),O=h[0],_=h[1],x=Object(N.useState)(!1),v=Object(n.a)(x,2),S=v[0],E=v[1],M=b.get("sortBy")||"age",D=b.get("perPage")||"All",I=b.get("page")||"1",R=b.get("query")||"",$="All"===D?1:Math.ceil(d.length/+D),q=Object(N.useMemo)((function(){return J(d,M,+D||d.length,+I)}),[M,d,D,I]),G=function(){var e=Object(f.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,_(!0),E(!1),e.next=5,L();case 5:t=e.sent,u(t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),E(!0);case 12:return e.prev=12,_(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})));return function(){return e.apply(this,arguments)}}();return Object(N.useEffect)((function(){G()}),[]),O?Object(o.jsx)(k,{}):S?Object(o.jsx)(P,{message:"Something went wrong"}):d.length?R?Object(o.jsx)(T,{products:m(d,R),setSelectedProducts:c,selectedProducts:s,favoriteProducts:t,setFavorite:r}):Object(o.jsxs)("div",{className:"productPage",children:[Object(o.jsx)(y,{pages:["Tablets"]}),Object(o.jsx)("h1",{className:"productPage__title",children:"Tablets"}),Object(o.jsx)("p",{className:"productPage__subTitle",children:"".concat(d.length," models")}),Object(o.jsx)(B,{}),Object(o.jsx)("div",{className:"productPage__productList","data-cy":"productList",children:q.map((function(e){return Object(o.jsx)(a.b,{to:"/".concat(A(e.type),"/").concat(e.id),className:"productCard","data-cy":"cardsContainer",children:Object(o.jsx)(F,{setSelectedProducts:c,selectedProducts:s,favoriteProducts:t,product:e,setFavorite:r})},e.id)}))}),Object(o.jsx)(w,{amount:$})]}):Object(o.jsx)(C,{message:"Tablets not found"})};c(33);function ce(e){var t=Object(N.useState)((function(){return JSON.parse(localStorage.getItem(e)||"[]")})),c=Object(n.a)(t,2),s=c[0],r=c[1];return[s,function(t){if(t)if(s.find((function(e){return e.id===t.id}))){var c=s.filter((function(e){return e.id!==t.id}));r(c),c.length?localStorage.setItem(e,JSON.stringify(c)):localStorage.removeItem(e)}else{var a=[].concat(Object(q.a)(s),[t]);r(a),localStorage.setItem(e,JSON.stringify(a))}}]}var se=function(){var e=ce("favorite"),t=Object(n.a)(e,2),c=t[0],s=t[1],r=ce("store"),a=Object(n.a)(r,2),l=a[0],u=a[1];return Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)(_,{favoriteProductLength:c.length,storeCard:l.length}),Object(o.jsx)(x,{children:Object(o.jsxs)(i.d,{children:[Object(o.jsx)(i.b,{path:"/home",element:Object(o.jsx)(i.a,{to:"/"})}),Object(o.jsx)(i.b,{path:"/",element:Object(o.jsx)(K,{setFavorite:s,favoriteProducts:c,selectedProducts:l,setSelectedProducts:u})}),Object(o.jsxs)(i.b,{path:"/phones",children:[Object(o.jsx)(i.b,{index:!0,element:Object(o.jsx)(V,{favoriteProducts:c,setFavorite:s,selectedProducts:l,setSelectedProducts:u})}),Object(o.jsx)(i.b,{path:"/phones/:idProduct",element:Object(o.jsx)(H,{type:"Phones",favoriteProducts:c,setFavorite:s,selectedProducts:l,setSelectedProducts:u})})]}),Object(o.jsxs)(i.b,{path:"/tablets",children:[Object(o.jsx)(i.b,{index:!0,element:Object(o.jsx)(te,{favoriteProducts:c,setFavorite:s,selectedProducts:l,setSelectedProducts:u})}),Object(o.jsx)(i.b,{path:"/tablets/:idProduct",element:Object(o.jsx)(H,{type:"Tablets",favoriteProducts:c,setFavorite:s,selectedProducts:l,setSelectedProducts:u})})]}),Object(o.jsxs)(i.b,{path:"/accessories",children:[Object(o.jsx)(i.b,{index:!0,element:Object(o.jsx)(G,{favoriteProducts:c,setFavorite:s,selectedProducts:l,setSelectedProducts:u})}),Object(o.jsx)(i.b,{path:"/accessories/:idProduct",element:Object(o.jsx)(H,{type:"Accessories",favoriteProducts:c,setFavorite:s,selectedProducts:l,setSelectedProducts:u})})]}),Object(o.jsx)(i.b,{path:"/favorite",element:Object(o.jsx)(Q,{favoriteProducts:c,setFavorite:s,selectedProducts:l,setSelectedProducts:u})}),Object(o.jsx)(i.b,{path:"/store",element:Object(o.jsx)(ee,{selectedProducts:l,setSelectedProducts:u})})]})}),Object(o.jsx)(d,{})]})};r.a.render(Object(o.jsx)(a.a,{children:Object(o.jsx)(se,{})}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.0687bf73.chunk.js.map